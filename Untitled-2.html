<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Audio API: All Processing Nodes Demo</title>
    <link rel="stylesheet" href="synth.css">
    <script src="syn.js" type="module"></script>
    <script src="//aeoq.github.io/drag-knob/script.js" type="module"></script>
    <style>
        continuous-knob:not([title])::before {
            content: attr(name);
        }
        continuous-knob::before {
            text-transform: capitalize;
        }
    </style>
</head>
<body>
    <aside id="keyboard"></aside>
    <form>
        <fieldset name="Oscillator">
            <legend>Wave</legend>
            <discrete-knob name="type" list='["sine","sawtooth","square","triangle"]' value="square" title="Form"></discrete-knob>
        </fieldset>
        <fieldset name="Envelope">
            <legend>Envelope</legend>
            <continuous-knob name="A" max="5" step="0.01" value="1" unit="s"></continuous-knob>
            <continuous-knob name="D" max="5" step="0.01" value="1" unit="s"></continuous-knob>
            <continuous-knob name="S" min="0.001" max="1" step="0.001" value="1"></continuous-knob>
            <continuous-knob name="R" max="5" step="0.01" value="1" unit="s"></continuous-knob>
        </fieldset>
        <fieldset name="BiquadFilter">
            <legend>Biquad Filter</legend>
            <discrete-knob name="type" list='["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]' title="Type"></discrete-knob>
            <continuous-knob name="frequency" min="100" max="5000" step="100" value="800" unit="Hz" title="Freq"></continuous-knob>
            <continuous-knob name="detune" min="-100" max="100"></continuous-knob>
            <continuous-knob name="Q" max="100"></continuous-knob>
            <continuous-knob name="gain" max="10"></continuous-knob>
        </fieldset>
        <fieldset name="DynamicsCompressor">
            <legend>Compressor</legend>
            <continuous-knob name="threshold" min="-100" max="0" value="-50" unit="dB"></continuous-knob>
            <continuous-knob name="knee" min="0" max="40" value="40" unit="dB"></continuous-knob>
            <continuous-knob name="ratio" min="1" max="20" value="12"></continuous-knob>
            <continuous-knob name="attack" max="5" step="0.01" value="0" unit="s"></continuous-knob>
            <continuous-knob name="release" max="5" step="0.01" value="0.25" unit="s"></continuous-knob>
        </fieldset>
        <fieldset name="Delay">
            <legend>Delay</legend>
            <continuous-knob name="delayTime" max="2" step="0.01" value="0.1" unit="s" title="Time"></continuous-knob>
        </fieldset>
        <fieldset name="StereoPanner">
            <legend>Stereo Panner</legend>
            <continuous-knob name="pan" min="-1" max="1" step="0.1" value="0"></continuous-knob>
        </fieldset>
        <input type="checkbox" name="visualize">Spectrum
    </form>
    <canvas width="800" height="400"></canvas>
</body>
</html>